---
 - name: Install Federated Software on db2Dev
   hosts: db2dev.ifmssystem.com
   tasks: 

    - name: Install IIRW
      raw: D:\DB2_ADMIN\DB2_INSTALL\IIRWinstall.bat
 
    - name: wait for 5 minutes
      win_wait_for:
        timeout: 300

# if file  exists, this means the install is done 
    - name: test to see if file  exists 
      script: TestIIRWPath.ps1
      register: path_result
      failed_when: path_result.stdout != "The file exists\r\n"
      
    - debug: 
        var: path_result.stdout      
 
    - name: Reboot the server after install of IIRW
      win_reboot:     

...